# go-cat

[![Go Report Card](https://goreportcard.com/badge/github.com/Nikolay-Yakunin/go-cat)](https://goreportcard.com/report/github.com/Nikolay-Yakunin/go-cat)
[![Лицензия](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

Реализация команды Unix `cat` на Go с дополнительными функциями.

## Функции

- Поддерживает различные флаги для настройки вывода:
  - `--number-nonblank`: нумерует непустые строки вывода.
  - `--squeeze-blank`: сжимает несколько смежных пустых строк.
  - `--number`: нумерует все строки вывода.
  - Короткие флаги: `-b`, `-E`, `-e`, `-n`, `-s`, `-T`, `-t`, `-v`.

## Установка

### Предварительные требования

- [Go](https://golang.org/dl/) версии 1.22.6 или выше.

### Сборка из исходного кода

1. Клонируйте репозиторий:
   ```sh
   git clone https://github.com/Nikolay-Yakunin/go-cat.git
   cd go-cat
   ```

2. Соберите проект:
   ```sh
   make
   ```

   Это создаст бинарные файлы для Linux и Windows в каталоге `build`. 

3. Запустите исполняемый файл:
   - Для Linux:
     ```sh
     ./build/linux/go-cat --number file.txt
     ```
   - Для Windows:
     ```sh
     .\build\windows\go-cat.exe --number file.txt
     ```

## Добавление бинарного файла в PATH
Чтобы было проще использовать go-cat из любого места, вы можете добавить бинарный файл в PATH вашей системы. Используйте сценарии для Bash (для Unix-подобных систем) и PowerShell (для Windows).

## Для Unix-подобных систем (сценарий Bash)
Убедитесь, что у сценария есть права на выполнение:
```sh
chmod +x install.sh
```
Запустите сценарий от имени пользователя root:
```sh
sudo ./install.sh
```
Этот скрипт создаст бинарный файл, скопирует его в /usr/local/bin и сделает так, чтобы он был доступен в вашей переменной PATH.

## Для систем Windows (скрипт PowerShell), если у вас разрешены к запуску скрипты
Откройте PowerShell от имени администратора.
Запустите скрипт:
```powershell
.\install.ps1
```
Этот скрипт создаст бинарный файл, скопирует его в каталог, например C:\Program Files\mycat, и добавит этот каталог в переменную PATH вашей системы.  Возможно, вам потребуется перезапустить терминал или систему, чтобы изменения вступили в силу. 

## Как разрешить запуск скриптов
Открытие PowerShell с правами администратора: 
Убедитесь, что вы открыли PowerShell с правами администратора. Для этого нажмите Win + X и выберите «Windows PowerShell (Администратор)» или «Терминал (Администратор)», если у вас Windows 10/11.
Проверка текущей политики выполнения:
Вы можете проверить текущую политику выполнения, выполнив следующую команду:
```powershell
Get-ExecutionPolicy
```
Если результат «Restricted», это означает, что выполнение скриптов запрещено.
Изменение политики выполнения:
Временно измените политику выполнения на permissive, например RemoteSigned или Bypass. Выполните одну из следующих команд в PowerShell с правами администратора:
Чтобы разрешить выполнение локальных скриптов:
```powershell
Set-ExecutionPolicy RemoteSigned -Scope Process
```
Чтобы полностью отключить проверку выполнения скриптов (только для текущего процесса):
```powershell
Set-ExecutionPolicy Bypass -Scope Process
```
После выполнения одной из этих команд попробуйте снова запустить скрипт.:
powershell
```Копировать
.\install.ps1
```
Вернитесь к исходной политике выполнения :
После завершения работы со скриптами вы можете вернуть политику выполнения в исходное состояние, выполнив:
```powershell
Set-ExecutionPolicy Restricted -Scope Process
```

Или при необходимости установите политику на уровне пользователя или системы.:
```powershell
Set-ExecutionPolicy Restricted -Scope CurrentUser
```
или
```powershell
Set-ExecutionPolicy Restricted -Scope LocalMachine
```
Примечания по безопасности
- RemoteSigned: этот параметр позволяет выполнять все локальные и удаленные сценарии, имеющие действительную цифровую подпись. Это самый безопасный вариант для большинства пользователей.
- Bypass: этот параметр полностью отключает проверку выполнения сценариев. Он используется только для временного применения в доверенной среде.

## Использование

```sh
go-cat [ОПЦИЯ]... [ФАЙЛ]...
```

### Примеры

- Показать содержимое файла:
  ```sh
  go-cat file.txt
  ```

- Пронумеровать все строки вывода:
  ```sh
  go-cat -n file.txt
  ```

- Пронумеровать непустые строки вывода:
  ```sh
  go-cat -b file.txt
  ```

- Сжать несколько смежных пустых строк:
  ```sh
  go-cat -s file.txt
  ```

## Содействие

Мы будем рады вашим предложениям! Пожалуйста, выполните следующие действия:

1. Создайте форк репозитория.
2. Создайте новую ветку (`git checkout -b feature/new-feature`).
3. Зафиксируйте свои изменения (`git commit -am 'Добавить новую функцию'`).
4. Отправьте изменения в ветку (`git push origin feature/new-feature`).
5. Создайте новый запрос на вытягивание.

## Лицензия

Этот проект распространяется по лицензии MIT — подробности см. в файле [LICENSE](LICENSE).

## Благодарности

- Спасибо сообществу Go за предоставление такого мощного языка и инструментов.